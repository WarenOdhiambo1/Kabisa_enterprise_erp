{% extends 'base.html' %}

{% block title %}{{ action }} Maintenance - SaasApp{% endblock %}

{% block content %}
<div class="page-header">
    <h1 class="page-title">{{ action }} Maintenance</h1>
</div>

<div class="card">
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label">Vehicle *</label>
                    <select name="vehicle" class="form-select" required>
                        <option value="">Select Vehicle</option>
                        {% for vehicle in vehicles %}
                        <option value="{{ vehicle.pk }}">{{ vehicle.registration_number }} - {{ vehicle.make }} {{ vehicle.model }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Maintenance Type *</label>
                    <select name="maintenance_type" class="form-select" required>
                        <option value="">Select Type</option>
                        <option value="ROUTINE">Routine Service</option>
                        <option value="REPAIR">Repair</option>
                        <option value="INSPECTION">Inspection</option>
                        <option value="TIRE">Tire Service</option>
                        <option value="BRAKE">Brake Service</option>
                        <option value="ENGINE">Engine Work</option>
                        <option value="ELECTRICAL">Electrical</option>
                        <option value="BODYWORK">Body Work</option>
                        <option value="OTHER">Other</option>
                    </select>
                </div>
                <div class="col-12">
                    <label class="form-label">Description *</label>
                    <textarea name="description" class="form-control" rows="3" required placeholder="Describe the work to be done..."></textarea>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Service Provider *</label>
                    <input type="text" name="service_provider" class="form-control" required placeholder="Garage/mechanic name">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Service Date *</label>
                    <input type="date" name="service_date" class="form-control" required>
                </div>
                <div class="col-md-4">
                    <label class="form-label">Parts Cost</label>
                    <input type="number" name="parts_cost" class="form-control" step="0.01" min="0" value="0">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Labor Cost</label>
                    <input type="number" name="labor_cost" class="form-control" step="0.01" min="0" value="0">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Other Costs</label>
                    <input type="number" name="other_costs" class="form-control" step="0.01" min="0" value="0">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Mileage at Service *</label>
                    <input type="number" name="mileage_at_service" class="form-control" min="0" required>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Next Service Mileage</label>
                    <input type="number" name="next_service_mileage" class="form-control" min="0">
                </div>
                <div class="col-md-6">
                    <label class="form-label">Receipt Number</label>
                    <input type="text" name="receipt_number" class="form-control">
                </div>
                <div class="col-12">
                    <label class="form-label">Notes</label>
                    <textarea name="notes" class="form-control" rows="2"></textarea>
                </div>
            </div>
            <div class="mt-4">
                <button type="submit" class="btn btn-primary">{{ action }} Maintenance</button>
                <a href="{% url 'maintenance_list' %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}